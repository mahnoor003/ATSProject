@model IEnumerable<ATSProject.Models.Job>

@{
    ViewData["Title"] = "Applicants Dashboard";
}

<div class="container mt-5">
    <h2 class="text-center text-primary mb-4">🏢 Recruiter Dashboard - Jobs</h2>

    <div class="row">
        @foreach (var job in Model)
        {
            var applicantCount = job.CandidateApplications?.Count() ?? 0;

            <div class="col-md-4 mb-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <h4 class="card-title text-dark">@job.JobTitle</h4>
                        <p class="text-muted">@job.Description</p>
                        <p><strong>Posted On:</strong> @job.CreatedAt.ToString("dd MMM yyyy")</p>
                        <p><strong>Applicants:</strong> @applicantCount</p>

                        <a href="/Applications/Applicants?jobId=@job.Id"
                           class="btn btn-primary w-100">
                            👥 View Applicants
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
